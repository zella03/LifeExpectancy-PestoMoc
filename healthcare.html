<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Circular&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bebas+Neue&family=Dela+Gothic+One&family=Rubik+Mono+One&family=Shrikhand&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <title>How to Live Longer?</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-left">
            How to Live Longer?
            <!-- <a href="home_page.html" class="menu-icon">&#9776;</a> -->
        </div>
        <ul class="nav-list">
            <li><a href="home_page.html" class="nav-item">HOME</a></li>
            <li><a href="team_intro.html" class="nav-item">TEAM</a></li>
        </ul>
    </nav>

    <header class="sub-page">
        <div class="header-text">
            <h1>Healthcare Expenditures</h1>
            <p>How healthcare spending impacts life expectancy?</p>
        </div>
        <div class="header-img">
            <img src="style/img/healthcare/healthcare_page.jpg" alt="Image representing healthcare" />
        </div>
    </header>

<main>
    <div class="container">
        <div class="map-container">
            <h2>Healthcare Expenditures on Map</h2>
            <p class="map-description">Discover how healthcare expenditure varies across European countries.<br> Use the year selector to observe trends over time <strong>in your country</strong>. Switch between per capita or total expenditure views.</p>
            <div class="selectors-panel">
                <select id="year-selector" class="form-control"></select>
                <select id="value-toggle" class="form-control">
                <option value="Health Expenditure per Capita">Expenditure Per Capita</option>
                <option value="Total Health Expenditure">Total Expenditure</option>
                </select>
            </div>
            <div class="tooltip" id="tooltip_map"></div>
            <svg id="choropleth-map"></svg>
            <div class="info-icon-container">
                <i class="fas fa-info-circle info-icon"></i>
                <span>How to read the map?</span>
            </div>
        </div>

        <div class="description-container">
            <h3>Western Europe Dominance</h3>
            <p>Spanning the years 2000-2021 it becomes evident that most of the countries with high healthcare expenditure
                 per capita (Germany, Norway, Switzerland) are located in the western part of Europe. 
                 <br><br>In recent years, <strong>Switzerland</strong> stands out with the highest per capita expenditure.
                 We should know that per capita expenditres are more reliable than total expenditures as they reflect the amount spent
                 relative to each population unit, correlating to better life quality of individuals and individuals well-being.
                 When switching to total expenditures, the map reveals that wealthier nations not only have higher per 
                 capita spending but also dominate in overall healthcare expenditure.
                 <div class="increase-comment">
                    What is good for us - we can observe that total healthcare expenditures are increasing across all countries over the years!</p>
                    <img src="style/img/healthcare/increase.png" alt="Image representing increase of money" />
                 </div>
        </div>
    
        <div class="chart-container">
            <h2>Does Healthcare Expenditures Affect Life Expectancy?</h2>
            <p class="chart-description">Compare life expectancy and healthcare spending trends for two countries over time. Use the dropdown menus to select countries of interest.</p>
            <div class="selectors-panel justify-content-between">
                <select id="country1" class="form-control"></select>
                <select id="country2" class="form-control"></select>
            </div>
            <div class="centered-container">
                <span id="currentYear">2000</span>
            </div>
            <canvas id="lifeExpectancyChart"></canvas>
            <div class="animate-controls">
                <button id="pauseButton" class="control-button" disabled>
                    <i class="fas fa-pause"></i>
                </button>
                <button id="resumeButton" class="control-button" disabled>
                    <i class="fas fa-play"></i>
                </button>
                <button id="replayButton" class="control-button">
                    <i class="fas fa-undo"></i>
                </button>
            </div>
            <div class="slider-container">
                <div class="slider-wrapper">
                    <span class="min-year">2000</span>
                    <input type="range" id="yearSlider" min="2000" max="2022" value="2000" step="1">
                    <span class="max-year">2022</span>
                </div>
            </div>
            <div class="info-icon-container">
                <i class="fas fa-info-circle info-icon"></i>
                <span>How to read the chart?</span>
            </div>
            
        </div>

        <div class="description-container">
        <h3>We are living longer, longer, and longer...</h3>
        <p>The line plot helps visualize how life expectancy improvements often correlate with healthcare spending increases.
            We can conclude that there is a positive relationship between those two values!
            What's more, as stated previously: we face increasing healthcare spending. Given this correlation, <strong>we are going to live longer!</strong></p>
        <p>The plot highlights the importance of healthcare spending for improving life expectancy. 
            However, it also indicates that the healthcare relationship is not only factor motivating our livespan. We should also consider other factors such as lifestyle, and social conditions.</p>
        </div>
    </div>

    <div class="next-page-button">
        <a href="addictions.html" class="button">Check other factors: <strong>Addictions</strong></a>
    </div>
    <div class="data-sources">
        <div class="info-icon-container">
            <span><u>Data Sources: Helthcare Expenditure & Life Expectancy</u></span>
        </div>
    </div>
</main>

<footer>
    <p>&copy; Data Visualization | Unige 2024/2025</p>
</footer>

<script src="scripts/healthcare-map.js"></script>
<script src="scripts/healthcare-lineplot.js"></script>
<script src="scripts/modal-windows.js"></script>

<div id="mapInfoModal" class="info-modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2>How to Read the Choropleth Map?</h2>
        <p>
            The choropleth map visualizes healthcare expenditures across countries:
            <ul>
                <li>Hover over a country to see detailed data for the selected year.</li>
                <li>Use the year selector to view data for different years.</li>
                <li>Switch between per capita and total expenditure using the dropdown menu.</li>
                <li>Darker colors represent higher expenditures.</li>
            </ul>
        </p>
    </div>
</div>

<div id="chartInfoModal" class="info-modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2>How to Read the Chart?</h2>
        <p>
            The chart compares healthcare expenditure and life expectancy trends for selected countries. 
            <ul>
                <li>Use the dropdown menus to select countries of interest.</li>
                <li>The X-axis represents years, while the Y-axis shows respective values.</li>
                <li>Hover over points to see detailed data for a particular year.</li>
                <li>Use the slider to visualize changes over time dynamically.</li>
            </ul>
        </p>
    </div>
</div>


<div id="dataInfoModal" class="info-modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2>Data Sources</h2>
        <p>
            <ul>
                <li><a href="https://geojson-maps.kyd.au/">GeoJson file with countries bondaries</a>
                </li>
                <li><a href="https://ourworldindata.org/grapher/annual-healthcare-expenditure-per-capita">Our World In Data - Annual Healthcare Expenditure per Capita</a>
                </li>
                <li><a href="https://databank.worldbank.org/source/population-estimates-and-projections#">Data Bank - Population and Life Expectancy at birth</a>
                </li>
            </ul>
            
            <strong>Preparation Activities</strong><br>
            Life Expectancy data was transformed into a long format, we renamed the columns, 
            extracted the years and exported into yearly subsets to CSV files.
            <br><br>
            Healthcare dataset was reshaped it to long format using, extracted years, 
            dropped rows with missing values, and 
            converted healthcare expenditure from USD to EUR using a conversion rate (0.85).
            <br><br>
            Datasets were loaded and merged together on 
            country and year.
            Additinally total healthcare expenditure was calculated (by multiplication using population), and then again saved to yearly datasets.
            <br><br>
            To display countries on a map some of the countries names needed to be standardized to the ones from geojson file.
            
        </p>
    </div>
</div>

</body>
</html>
