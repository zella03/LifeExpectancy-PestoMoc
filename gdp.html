<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Circular&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bebas+Neue&family=Dela+Gothic+One&family=Rubik+Mono+One&family=Shrikhand&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <title>How to Live Longer?</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-left">
            How to Live Longer?
            <!-- <a href="home_page.html" class="menu-icon">&#9776;</a> -->
        </div>
        <ul class="nav-list">
            <li><a href="index.html" class="nav-item">HOME</a></li>
            <li><a href="team_intro.html" class="nav-item">TEAM</a></li>
        </ul>
    </nav>

    <header class="sub-page">
        <div class="header-text">
            <h1>GDP</h1>
            <p>
                Is GDP a key factor in determining life expectancy?
            </p>
        </div>
        <div class="header-img">
            <img src="style/img/gdp/gdp_img.jpg" alt="Image representing life expectancy" />
        </div>
    </header>

    <main>
        <div class="container">
            <div class="description-container">
                <h3>What is actually GDP?</h3>
                <p>
                    <b>Gross Domestic Product (GDP)</b> is one of the most widely recognized indicators of a country's economic performance. 
                    It represents the total monetary or market value of all finished goods and services produced within a country's borders during a specific time period, 
                    typically measured annually or quarterly.
                    <br>
                    As a comprehensive scorecard of a nation's economic activity, GDP provides insight into the size and health of an economy and serves as a 
                    benchmark for comparing the economic performance of different countries.
                    <br><br>
                    <b>Why is GDP Important?</b><br>
                    GDP matters because it provides a snapshot of a country's economic health and influences:
                    <ul>
                        <li><b>Policy Decisions</b>: Governments and central banks rely on GDP data to guide fiscal and monetary policies.</li>
                        <li><b>Investment Choices</b>: Businesses and investors use GDP trends to identify opportunities and risks.</li>
                        <li><b>Standard of Living</b>: While GDP does not directly measure quality of life, higher GDP often correlates with improved living standards.</li>
                    </ul>
                </p>
            </div>

            <div class="separator"></div>

            <div class="map-container">
                <h2>GDP on Map</h2>
                <p class="map-description">Look at the map and search for <b></b>GDP in each country as well as income per person. Chose a year and see how it changed.</p>
                <div class="selectors-panel">
                    <select id="year-map" class="form-control"></select>
                    <select id="column-map" class="form-control">
                        <option value="Total_GDP" selected>Total GDP</option>
                        <option value="Income_per_Person">Income Per Person</option>
                    </select>
                </div>
                <svg id="map"></svg>
                <div class="info-icon-container">
                    <i class="fas fa-info-circle info-icon"></i>
                    <span>How to read the map?</span>
                </div>
            </div>
            <div class="tooltip-map" id="tooltip-map"></div>
            

            <div class="description-container">
                <h3>What to take from the map?</h3>
                <p>
                    This map provides a visual representation of two critical metrics across Europe (GDP per capita and income per person) from 1960 to 2022. By selecting either Total GDP or GDP per Person, you can explore how these indicators vary across regions and evolve over time.<br><br>

                    Key observations:
                    <ul>
                        <li>Western Europe consistently exhibits higher income per person, reflecting greater wealth and living standards compared to other regions.</li>
                        <li>Central Europe shows a lower GDP per person relative to both Western and Eastern Europe, highlighting unique economic challenges in the region.</li>
                        <li>Total GDP is influenced by both population size and economic output, with larger countries often dominating this metric.</li>
                    </ul>
                </p>
            </div>
        

            <h1 class="title-separator">What about Life expectancy? Does it correlate?</h1>
            
            <div id="GDP-bubble">
                <div class="chart-container">
                    <h2>Top 10 Countries by Life Expectancy</h2>
                    <p class="chart-description">
                        The bubble chart below <b>highlights the top correlation between life expectancy and total GDP</b> for the selected year. 
                        <br>
                        Use the dropdown menu to change the year and see the changes.
                    </p>

                    <div class="controls">
                        <div class="year-selector">
                            <label for="year-select">Select Year:</label>
                            <select id="year-select" class="form-control"></select>
                        </div>

                    </div>
                    
                    <div class="centered-container">
                        <svg id="bubble-chart" width="900" height="600"></svg>
                    </div>
                    
                    <div class="legend-container">
                        <svg id="legend" width="500" height="60"></svg>
                    </div>
                    <div class="info-icon-container">
                        <i class="fas fa-info-circle info-icon"></i>
                        <span class="info-tooltip">How to read the chart?</span>
                    </div>
                    <div class="tooltip" id="tooltip-bubble"></div>
                    
                </div>
            </div>
            <div class="description-container">
                <h3>Not much to conclude..</h3>
                <p>
                    Looking across the data, a clear correlation between life expectancy and GDP is <b>not</b> immediately apparent.<br> 
                    While countries with higher GDPs may show some improvements in life expectancy, this relationship is not consistent. In fact, there are numerous instances where nations with higher economic 
                    output do not necessarily enjoy longer life expectancies. Though slight correlations exist, they are not strong enough to make a broad, definitive statement about the link between wealth and longevity. 
                    <br>This suggests that factors beyond just economic prosperity—such as healthcare systems, social policies, and lifestyle—play significant roles in shaping life expectancy outcomes.
                <br><br><br><br><br>
                <span class="icon-mark">!</span> 
                <br> Remind yourselves that GDP reveals not just the economic power of the countries but also how much they invest 
                in healthcare!
                
                </p>
            </div>

            <div class="chart-container">
                <h2>Countries with highest GDP Expenditures</h2>
                <p class="chart-description">
                    The chart below shows the <b>top 3 countries with the highest total GDP</b> for the selected year, along with the <b>percentage of healthcare expenditure as part of the GDP</b>.
                    <br>
                    Explore the balance between wealth and health and see how these nations prioritize their citizens' 
                    quality of life!
                </p>

                <div class="selectors-panel">
                    <select id="year-selector" class="form-control"></select>
                </div>

                <div class="waffle-charts-container" id="waffle-charts"></div>
                <div class="waffle-modal">
                    <div class="info-icon-container">
                        <i class="fas fa-info-circle info-icon"></i>
                        <span class="info-tooltip">How to read the chart?</span>
                    </div>
                </div>
                
                
            </div>
            <div class="description-container">
                <p>
                    GDP reveals not just the economic power of the countries but also how much they invest 
                    in healthcare - <b class="blue-text">critical factor shaping life expectancy!</b>  <br> 
                    
                    Key observations (2021):
                    <ul>
                        <li>The <b>Russian Federation</b> with <b>highest GDP expense</b> has a significantly lower healthcare-to-GDP ratio at <b>2.09%</b> comparing to other countries.</li>
                        <li>Despite having the highest GDP, the <b>Russian Federation allocates 
                            the the least proportion</b> of its GDP to healthcare.</li>
                        <li>Conversely, the <b>United Kingdom has the lowest GDP</b> among the three but dedicates 
                            the <b>highest proportion</b> to healthcare.</li>
                    </ul>
                </p>
            </div>
        </div>

        <div class="next-page-button">
            <a href="healthcare.html" class="button">Check other factors: <strong>Healthcare</strong></a>
        </div>

        <div class="data-sources">
            <div class="info-icon-container">
                <span><u>Data Sources: GDP & Life Expectancy & Helthcare Expenditure</u></span>
            </div>
        </div>
        
        <script src="scripts/gdp-with-lifeExpectancy.js" defer></script>
        <script src="scripts/gdp-waffle-chart.js" defer></script>
        <script src="scripts/gdp.js" defer></script>
        
    </main>

    <footer>
        <p>&copy; Data Visualization | Unige 2024/2025</p>
    </footer>

    <script src="scripts/modal-windows-waffle.js"></script>
    <div id="mapInfoModal" class="info-modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>How to Read the Choropleth Map?</h2>
            <p>
                Check total GDP and Income per person across countries:
                <ul>
                    <li>Hover over a country to see detailed data for the selected year.</li>
                    <li>Use the year selector to view data for different years.</li>
                    <li>Switch between total GDP and income per person using the dropdown menu.</li>
                    <li>Darker colors represent higher GDP or Income.</li>
                </ul>
            </p>
        </div>
    </div>

    <div id="chartInfoModal" class="info-modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>How to Read the Bubble Chart?</h2>
            <p>
                Life expectancy vs GDP:
                <ul>
                    <li>Each bubble persent another country and size presents its population.</li>
                    <li>Hover over a bubble to see detailed data for the selected year.</li>
                    <li>Use the year selector to view data for different years.</li>
                    <li>Color scale on the bottom describe ranges for size of the population.</li>
                </ul>
            </p>
        </div>
    </div>

    <div id="chart1InfoModal" class="info-modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>How to Read the Waffle Chart?</h2>
            <p>
                <ul>
                    <li>At the top of each chart, you'll see the name of the country and its total GDP for the selected year, displayed in euros.
                    </li>
                    <li>The grid below represents 100%.</li>
                    <li>The <b class="blue-text">blue</b> blocks show the proportion of GDP spent on healthcare.</li>
                    <li>Below the chart, you'll find the percentage of total GDP dedicated to healthcare.</li>
                </ul>
                This visualization helps you understand how much of the country's wealth is invested in health-related expenditures
            </p>
        </div>
    </div>

    <div id="dataInfoModal" class="info-modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Data Sources</h2>
            <p>
                <ul>
                    <li><a href="https://geojson-maps.kyd.au/">GeoJson file with countries bondaries</a>
                    </li>
                    <li><a href="https://docs.google.com/spreadsheets/d/1RuGcXnt6mrhXumhUuRv4-lC4DmPyohznCiJy8paPM7Q/edit?gid=176703676#gid=176703676">Gapminder - GDP per capita in constant PPP dollars</a>
                    </li>
                    <li><a href="https://databank.worldbank.org/source/population-estimates-and-projections#">Data Bank - Population and Life Expectancy at birth</a>
                    </li>
                    <li><a href="https://ourworldindata.org/grapher/annual-healthcare-expenditure-per-capita">Our World In Data - Annual Healthcare Expenditure per Capita</a>
                    </li>
                </ul>
                
                <strong>Preparation Activities</strong><br>
                Life Expectancy data was transformed into a long format, we renamed the columns, 
                extracted the years and exported into yearly subsets to CSV files.
                <br><br>
                GDP data was presented in csv format. Main thing that was needed to do, for easier connection with other datasets later, was to 
                change the naming of some columns. Data for GDP and income was also converted from $ to € using a conversion rate (0.97).
                <br><br>
                Datasets were loaded and merged together on 
                country and year.
                <br><br>
                For the waffle chart - Healthcare dataset was reshaped it to long format using, extracted years, 
                dropped rows with missing values, and 
                converted healthcare expenditure from USD to EUR using a conversion rate (0.97).
                It was merged with the life expectancy dataset and total healthcare expenditure was calculated (by multiplication using population), and then again merged 
                with GDP dataset filtering only years 2000-2022.
                <br><br>
                To display countries on a map some of the countries names needed to be standardized to the ones from geojson file.
                <br><br><b>JavaScript library: D3.js</b>
            </p>
        </div>
    </div>

    
</body>
</html>
