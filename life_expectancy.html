<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Circular&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bebas+Neue&family=Dela+Gothic+One&family=Rubik+Mono+One&family=Shrikhand&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <!--<script src="scripts/data.js" defer></script>
    <script src="scripts/lifeExpectancy-map.js" defer></script>
    <script src="scripts/lifeExpectancy-barchart.js" defer></script>-->
    <title>How to Live Longer?</title>
</head>
<body>
    <nav class="navbar">
        <div class="nav-left">
            How to Live Longer?
            <!-- <a href="home_page.html" class="menu-icon">&#9776;</a> -->
        </div>
        <ul class="nav-list">
            <li><a href="index.html" class="nav-item">HOME</a></li>
            <li><a href="team_intro.html" class="nav-item">TEAM</a></li>
        </ul>
    </nav>

    <header class="subpage-life-exp">
        <div class="header-text">
            <h1>Life expectancy</h1>
            
            <p>
                Get some topic insights and explore the data!
            </p>
        </div>
        <div class="header-img">
            <img src="style/img/life_expectancy/life_exp.jpg" alt="Image representing life expectancy" />
        </div>
    </header>

    <main>
        <div class="container">
            <div class="description-container">
                <h3>What is actually this Life Expectancy?</h3>
                <p>
                    Life expectancy constitutes a crucial indicator of the overall health and well-being of populations around the world. 
                    <b>It is defined as the average number of years a person can expect to live, based on current mortality rates.</b> 
                    <br><br>
                    It is more than just a numberâ€”it reflects the health, development, and equality of societies. Nations with high life expectancy often have robust healthcare systems, 
                    healthier living conditions, and greater social equity. Conversely, a lower life expectancy may highlight challenges such as poverty, inadequate healthcare, or political instability.
                    <br><br>
                    Studying life expectancy trends helps policymakers:
                    <ul>
                        <li>Identify public health priorities.</li>
                        <li>Assess the effectiveness of interventions.</li>
                        <li>Monitor progress in improving health and reducing inequalities.</li>
                    </ul>
                    Understanding life expectancy allows us to gain deeper insights into the overall well-being of populations and the factors shaping their quality of life.
                </p>
            </div>

            <div class="separator"></div>

            <div class="map-container">
                <h2>How Long Will You Live? See the Life Expectancy Map of the Europe!</h2>
                <p class="map-description">Look at the map and search for Life expectancy in each country. Chose a year and see how it changed.</p>
                <div>
                    <select id="year-map" class="form-control"></select>
                </div>
                <svg id="map"></svg>
                <div class="info-icon-container">
                    <i class="fas fa-info-circle info-icon"></i>
                    <span class="info-tooltip">How to read the chart?</span>
                </div>
            </div>
            <div class="tooltip-map" id="tooltip-map"></div>

            <div class="description-container">
                <h3>Western Europe for the win!</h3>
                <p>
                    The depiction of life expectancy has undergone <b>development over time</b>, and current capabilities allow for the use of advanced data visualizations to explore these trends in great detail. The map presented here displays life expectancy across a range of countries, offering a snapshot of European health. 
                    <br><br><b>What is the first thing that catches your eye?</b><br>
                    Probably the darker colors in Western Europe, which indicate higher life expectancy compared to other regions. But also Northern Europe, with countries like <u>Sweden, Norway, and Iceland</u> showing high life expectancy values.
                </p>
            </div>



            <h1 class="title-separator">But Where is the Best Place to Live?</h1>

            <div id="lifeExp-bar">
                <div class="chart-container center">
                    <h2>See Which Countries Offer the Longest Lives</h2>
                    <p class="chart-description">
                        The bar chart below <b>highlights the top 10 countries with the highest life expectancy</b> for the selected year. 
                        <br>
                        Use the dropdown menu to change the year and see how the rankings evolve. Hover over each bar to see precise life expectancy values. 
                        <br>Chose option to see division between <b class="text-male">male</b> and <b class="text-female">female</b>.
                    </p>
                    <div class="controls">
                        <div class="year-selector">
                            <select id="year-bar" class="form-control"></select>
                        </div>
                        <label class="gender-toggle">
                            <input type="checkbox" id="gender-toggle" /> Show Male/Female Life Expectancy
                        </label>
                    </div>
                    <svg id="chart"></svg>
                    <div class="info-icon-container">
                        <i class="fas fa-info-circle info-icon"></i>
                        <span class="info-tooltip">How to read the chart?</span>
                    </div>
                </div>
                
                <div class="description-container">
                    <h3>Who's on the TOP?</h3>
                    <p>
                        Looking across the years, one country consistently stands out among the top three for life expectancy: <b>Switzerland</b>.
                        <br>
                        With only a few exceptions, Switzerland has maintained its position as a global leader in longevity. Other countries that frequently appear in the top three include <u>Spain, Italy, Iceland, and Liechtenstein</u>.
                        <br>
                        What makes these nations so remarkable? Could it be their healthcare systems, dietary habits, or social stability?
                    </p>
                    
                    <div class="woman-comment">
                        <img src="style/img/life_expectancy/woman.png">
                        <div>
                            <h3>Women take the lead!</h3>
                            Another thing that is important to be mentioned is that there is a clear difference in life expectancy between men and women. Generally, <b style="color: palevioletred;">women</b> tend to live longer than men, which can be attributed to a variety of biological, social, and lifestyle factors.
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="data-sources">
            <div class="info-icon-container">
                <span><u>Data Sources: Helthcare Expenditure & Life Expectancy</u></span>
            </div>
        </div>

        <script src="scripts/lifeExpectancy.js" defer></script>
        <script src="scripts/modal-windows.js"></script>

        <div id="mapInfoModal" class="info-modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2>How to Read the Choropleth Map?</h2>
                <p>
                    Check Life Expectancy across countries:
                    <ul>
                        <li>Hover over a country to see detailed data for the selected year.</li>
                        <li>Use the year selector to view data for different years.</li>
                        <li>Darker colors represent higher Life Expectancy.</li>
                    </ul>
                </p>
            </div>
        </div>

        <div id="chartInfoModal" class="info-modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2>How to Read the Bar Chart?</h2>
                <p>
                    Life expectancy in given countries:
                    <ul>
                        <li>Height of the bar shows the value of life expectancy.</li>
                        <li>Hover over bar to see detailed data for the selected country.</li>
                        <li>Use the year selector to view data for different years.</li>
                        <li>Mark checkbox to see male/female life expectancy</li>
                    </ul>
                </p>
            </div>
        </div>

        <div id="dataInfoModal" class="info-modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2>Data Sources</h2>
                <p>
                    <ul>
                        <li><a href="https://geojson-maps.kyd.au/">GeoJson file with countries bondaries</a></li>
                        <li><a href="https://databank.worldbank.org/source/population-estimates-and-projections#">Data Bank - Population and Life Expectancy at birth</a></li>
                    </ul>
                    
                    <strong>Preparation Activities</strong><br>
                    Life Expectancy data was transformed into a long format, we renamed the columns, 
                    extracted the years and exported into yearly subsets to CSV files.
                    <br><br>
                    To display countries on a map some of the countries names needed to be standardized to the ones from geojson file.
                    <br><br><b>JavaScript library: D3.js</b>
                </p>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; Data Visualization | Unige 2024/2025</p>
    </footer>

</body>
</html>
